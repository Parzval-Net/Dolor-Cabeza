
@layer components {
  /* Enhanced Calendar styles with light text on dark background */
  .rdp {
    --rdp-cell-size: 60px;
    --rdp-accent-color: rgb(139 92 246);
    --rdp-background-color: rgb(248 250 252);
    --rdp-accent-color-dark: rgb(124 58 237);
    --rdp-background-color-dark: rgb(30 41 59);
    --rdp-outline: 3px solid var(--rdp-accent-color);
    --rdp-outline-selected: 3px solid rgba(0, 0, 0, 0.75);
  }

  /* Calendario compacto con mejor visibilidad */
  .calendar-compact .rdp-day {
    @apply text-slate-700 font-semibold text-sm hover:bg-slate-100 hover:text-slate-900 transition-all duration-200 w-12 h-12 rounded-lg border border-transparent bg-white/60 relative;
  }

  .calendar-compact .rdp-day:hover {
    @apply bg-slate-100 text-slate-900 scale-105 shadow-sm border-slate-200;
  }

  .calendar-compact .rdp-day_selected {
    @apply bg-violet-600 text-white font-bold shadow-md scale-105 border-violet-700;
  }

  .calendar-compact .rdp-day_today {
    @apply bg-violet-100 text-violet-900 font-bold ring-2 ring-violet-400 shadow border-violet-200;
  }

  .calendar-compact .rdp-day_outside {
    @apply text-slate-400 font-normal bg-transparent;
  }

  .calendar-compact .rdp-day_disabled {
    @apply text-slate-300 bg-transparent;
  }

  /* Headers del calendario compacto */
  .calendar-compact .rdp-head_cell {
    @apply text-slate-600 font-bold text-sm w-12 h-8;
  }

  .calendar-compact .rdp-caption_label {
    @apply text-slate-800 font-bold text-lg;
  }

  /* Botones de navegación compactos */
  .calendar-compact .rdp-nav_button {
    @apply text-slate-600 hover:text-slate-800 hover:bg-slate-100 w-8 h-8 rounded-lg transition-all duration-200 border border-slate-300 hover:border-slate-400 bg-white/80;
  }

  /* Indicadores de intensidad mejorados y más visibles */
  .calendar-compact .intensity-level-1:not(.rdp-day_selected)::after,
  .calendar-compact .intensity-level-2:not(.rdp-day_selected)::after,
  .calendar-compact .intensity-level-3:not(.rdp-day_selected)::after,
  .calendar-compact .intensity-level-4:not(.rdp-day_selected)::after {
    content: '';
    @apply absolute bottom-0.5 left-1/2 -translate-x-1/2 w-3 h-3 rounded-full shadow border border-white;
  }
  
  .calendar-compact .intensity-level-1::after { 
    @apply bg-emerald-500 shadow-emerald-400; 
  }
  .calendar-compact .intensity-level-2::after { 
    @apply bg-orange-500 shadow-orange-400; 
  }
  .calendar-compact .intensity-level-3::after { 
    @apply bg-red-500 shadow-red-400; 
  }
  .calendar-compact .intensity-level-4::after { 
    @apply bg-red-700 shadow-red-600; 
  }

  /* Indicadores para días seleccionados */
  .calendar-compact .rdp-day_selected.intensity-level-1::after,
  .calendar-compact .rdp-day_selected.intensity-level-2::after,
  .calendar-compact .rdp-day_selected.intensity-level-3::after,
  .calendar-compact .rdp-day_selected.intensity-level-4::after {
    @apply bg-white shadow-white/60 border border-violet-200;
  }

  /* Espaciado del calendario compacto */
  .calendar-compact .rdp-table {
    @apply mx-auto;
  }

  .calendar-compact .rdp-row {
    @apply mb-1;
  }

  /* Calendar with light text for dark background - IMPROVED SIZE */
  .calendar-light-text .rdp-day {
    @apply text-slate-100 font-bold text-xl hover:bg-slate-700 hover:text-white transition-all duration-200 w-24 h-24 rounded-xl border border-transparent bg-slate-700/40;
  }

  .calendar-light-text .rdp-day:hover {
    @apply bg-slate-700 text-white scale-105 shadow-md border-slate-600;
  }

  .calendar-light-text .rdp-day_selected {
    @apply bg-violet-600 text-white font-bold shadow-lg scale-105 border-violet-500;
  }

  .calendar-light-text .rdp-day_today {
    @apply bg-violet-500 text-white font-bold ring-2 ring-violet-400 shadow-lg border-violet-400;
  }

  .calendar-light-text .rdp-day_outside {
    @apply text-slate-500 font-medium bg-slate-800/20;
  }

  .calendar-light-text .rdp-day_disabled {
    @apply text-slate-600 bg-slate-800/10;
  }

  /* Calendar headers with light text - IMPROVED SIZE */
  .calendar-light-text .rdp-head_cell {
    @apply text-slate-200 font-bold text-xl w-24 h-16;
  }

  .calendar-light-text .rdp-caption_label {
    @apply text-slate-100 font-bold text-3xl;
  }

  /* Navigation buttons with light colors - IMPROVED SIZE */
  .calendar-light-text .rdp-nav_button {
    @apply text-slate-200 hover:text-white hover:bg-slate-700 w-14 h-14 rounded-full transition-all duration-200 border border-slate-600 hover:border-slate-500 bg-slate-700/60;
  }

  /* Enhanced Calendar entry dot styles with better visibility on dark background - IMPROVED SIZE */
  .calendar-light-text .intensity-level-1:not(.rdp-day_selected)::after,
  .calendar-light-text .intensity-level-2:not(.rdp-day_selected)::after,
  .calendar-light-text .intensity-level-3:not(.rdp-day_selected)::after,
  .calendar-light-text .intensity-level-4:not(.rdp-day_selected)::after {
    content: '';
    @apply absolute bottom-2 left-1/2 -translate-x-1/2 w-6 h-6 rounded-full shadow-lg border-2 border-slate-700;
  }
  
  .calendar-light-text .intensity-level-1::after { @apply bg-emerald-400 shadow-emerald-300; }
  .calendar-light-text .intensity-level-2::after { @apply bg-orange-400 shadow-orange-300; }
  .calendar-light-text .intensity-level-3::after { @apply bg-red-400 shadow-red-300; }
  .calendar-light-text .intensity-level-4::after { @apply bg-red-600 shadow-red-500; }

  /* Selected day with intensity dots */
  .calendar-light-text .rdp-day_selected.intensity-level-1::after,
  .calendar-light-text .rdp-day_selected.intensity-level-2::after,
  .calendar-light-text .rdp-day_selected.intensity-level-3::after,
  .calendar-light-text .rdp-day_selected.intensity-level-4::after {
    @apply bg-white shadow-white/80 border-2 border-violet-300;
  }

  /* Calendar table spacing - IMPROVED SPACING */
  .calendar-light-text .rdp-table {
    @apply mx-auto w-full;
  }

  .calendar-light-text .rdp-row {
    @apply mb-4;
  }

  /* Keep existing dark text calendar styles for backward compatibility */
  .calendar-dark-text .rdp-day {
    @apply text-slate-900 font-bold text-lg hover:bg-violet-100 hover:text-violet-900 transition-all duration-200 w-16 h-16 rounded-xl border border-transparent bg-white/40;
  }

  .calendar-dark-text .rdp-day:hover {
    @apply bg-violet-100 text-violet-900 scale-105 shadow-md border-violet-200;
  }

  .calendar-dark-text .rdp-day_selected {
    @apply bg-violet-600 text-white font-bold shadow-lg scale-105 border-violet-700;
  }

  .calendar-dark-text .rdp-day_today {
    @apply bg-violet-200 text-violet-900 font-bold ring-2 ring-violet-500 shadow-lg border-violet-300;
  }

  .calendar-dark-text .rdp-day_outside {
    @apply text-slate-600 font-medium bg-slate-100/40;
  }

  .calendar-dark-text .rdp-day_disabled {
    @apply text-slate-400 bg-slate-50/20;
  }

  .calendar-dark-text .rdp-head_cell {
    @apply text-slate-900 font-bold text-lg w-16 h-12;
  }

  .calendar-dark-text .rdp-caption_label {
    @apply text-slate-900 font-bold text-2xl;
  }

  .calendar-dark-text .rdp-nav_button {
    @apply text-slate-900 hover:text-violet-700 hover:bg-violet-100 w-12 h-12 rounded-full transition-all duration-200 border border-slate-400 hover:border-violet-300 bg-white/60;
  }

  .calendar-dark-text .intensity-level-1:not(.rdp-day_selected)::after,
  .calendar-dark-text .intensity-level-2:not(.rdp-day_selected)::after,
  .calendar-dark-text .intensity-level-3:not(.rdp-day_selected)::after,
  .calendar-dark-text .intensity-level-4:not(.rdp-day_selected)::after {
    content: '';
    @apply absolute bottom-1 left-1/2 -translate-x-1/2 w-5 h-5 rounded-full shadow-lg border-2 border-white;
  }
  
  .calendar-dark-text .intensity-level-1::after { @apply bg-emerald-500 shadow-emerald-400; }
  .calendar-dark-text .intensity-level-2::after { @apply bg-orange-500 shadow-orange-400; }
  .calendar-dark-text .intensity-level-3::after { @apply bg-red-500 shadow-red-400; }
  .calendar-dark-text .intensity-level-4::after { @apply bg-red-700 shadow-red-600; }

  .calendar-dark-text .rdp-day_selected.intensity-level-1::after,
  .calendar-dark-text .rdp-day_selected.intensity-level-2::after,
  .calendar-dark-text .rdp-day_selected.intensity-level-3::after,
  .calendar-dark-text .rdp-day_selected.intensity-level-4::after {
    @apply bg-white shadow-white/80 border-2 border-violet-300;
  }

  .calendar-dark-text .rdp-table {
    @apply mx-auto;
  }

  .calendar-dark-text .rdp-row {
    @apply mb-3;
  }

  /* Safari mobile specific fixes for calendar */
  @supports (-webkit-touch-callout: none) {
    .safari-calendar-container {
      background: rgba(30, 41, 59, 0.95) !important;
      backdrop-filter: saturate(180%) blur(20px);
      -webkit-backdrop-filter: saturate(180%) blur(20px);
    }

    .safari-calendar-wrapper .rdp-day {
      background: rgba(51, 65, 85, 0.8) !important;
      color: rgb(226, 232, 240) !important;
      border: 1px solid rgba(100, 116, 139, 0.5) !important;
    }

    .safari-calendar-wrapper .rdp-day_selected {
      background: rgb(139, 92, 246) !important;
      color: white !important;
      border: 1px solid rgb(124, 58, 237) !important;
    }

    .safari-calendar-wrapper .rdp-nav_button {
      background: rgba(51, 65, 85, 0.8) !important;
      color: rgb(203, 213, 225) !important;
      border: 1px solid rgba(100, 116, 139, 0.6) !important;
    }
  }
}
